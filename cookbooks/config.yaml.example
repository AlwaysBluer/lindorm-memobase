# LindormMemobase Configuration Example
# Copy this file to config.yaml and update with your settings

# LLM Configuration (Required)
llm_api_key: null  # Set via environment variable MEMOBASE_LLM_API_KEY
llm_base_url: null  # Optional: Set custom OpenAI-compatible endpoint
best_llm_model: "gpt-4o-mini"
thinking_llm_model: "gpt-4o-mini"
summary_llm_model: null  # Uses best_llm_model if not set

# Language Settings
language: "en"  # "en" or "zh"

# Profile Settings
profile_strict_mode: false  # Only extract predefined topics
profile_validate_mode: true  # Validate profile updates with LLM

# Additional user profiles (optional)
additional_user_profiles: []
# Example:
# - topic: "interests"
#   description: "User interests and hobbies"
#   sub_topics:
#     - name: "music"
#       description: "Musical preferences and activities"
#       validate_value: false
#     - name: "sports"
#       description: "Sports activities and preferences"

# Override all profiles (optional)
overwrite_user_profiles: null

# Embedding Configuration (Optional)
enable_event_embedding: true
embedding_provider: "openai"  # "openai" or "jina"
embedding_api_key: null  # Set via environment variable MEMOBASE_EMBEDDING_API_KEY
embedding_base_url: null
embedding_model: "text-embedding-3-small"
embedding_dim: 1536
embedding_max_token_size: 8192

# Token Limits
max_chat_blob_buffer_token_size: 1024
max_chat_blob_buffer_process_token_size: 16384
max_profile_subtopics: 15
max_pre_profile_token_size: 128

# Buffer Settings
buffer_flush_interval: 3600  # 1 hour in seconds

# Event Settings
event_theme_requirement: "Focus on the user's infos, not its instructions."
minimum_chats_token_size_for_event_summary: 256
event_tags: []

# System Settings
persistent_chat_blobs: false
use_timezone: null  # null for system timezone, or specific timezone like "UTC"
system_prompt: null
llm_tab_separator: "::"
cache_user_profiles_ttl: 1200  # 20 minutes

# Telemetry
telemetry_deployment_environment: "local"

# Optional LLM Headers and Query Parameters
llm_openai_default_query: null
llm_openai_default_header: null

# Lindorm Search Configuration
lindorm_search_host: "localhost"
lindorm_search_port: 30070
lindorm_search_use_ssl: false
lindorm_search_username: null
lindorm_search_password: null
lindorm_search_events_index: "memobase_events"
lindorm_search_event_gists_index: "memobase_event_gists"

# Lindorm Table (MySQL Protocol) Configuration
lindorm_table_host: "localhost"
lindorm_table_port: 33060
lindorm_table_username: "root"
lindorm_table_password: null
lindorm_table_database: "memobase"

# Lindorm Buffer专用配置 (可选，未设置时使用lindorm_table_配置)
# 如果你想让buffer使用不同的Lindorm实例，可以配置以下参数
lindorm_buffer_host: null          # 默认使用lindorm_table_host
lindorm_buffer_port: null          # 默认使用lindorm_table_port  
lindorm_buffer_username: null      # 默认使用lindorm_table_username
lindorm_buffer_password: null      # 默认使用lindorm_table_password
lindorm_buffer_database: null      # 默认使用lindorm_table_database